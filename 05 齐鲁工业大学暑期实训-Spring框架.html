<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307474 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2002"/>

<div>
<span><div><div><font style="font-size: 14pt;">05 齐鲁工业大学暑期实训-Spring框架</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><span style="color: rgb(34, 34, 34); font-weight: bold;-en-paragraph:true;">1</span><span style="color: rgb(34, 34, 34); font-weight: bold;-en-paragraph:true;">spring框架概述</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">1.1</span><span style="font-weight: bold;-en-paragraph:true;">什么是spring</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><b><font style="font-size: 14pt;">ssh--》Struts2   Spring  Hibernate</font></b></div><div style="margin-top: 1em; margin-bottom: 1em;"><b><font style="font-size: 14pt;">ssm--》Spring  SpringMVC  Mybatis</font></b></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">Spring是一个<font style="color: rgb(227, 0, 0);">开源框架</font>，Spring是于2003 年兴起的一个<span style="color: rgb(227, 0, 0);">轻量级</span>的Java 开发框架，由Rod Johnson 在其著作Expert One-On-One J2EE Development and Design中阐述的部分理念和原型衍生而来。它是为了解决企业应用开发的复杂性而创建的。框架的主要优势之一就是其分层架构，分层架构允许使用者选择使用哪一个组件，同时为 J2EE 应用程序开发提供集成的框架。Spring使用基本的JavaBean来完成以前只可能由EJB完成的事情。然而，Spring的用途不仅限于服务器端的开发。从简单性、可测试性和<font style="color: rgb(227, 0, 0);">松耦合</font>的角度而言，任何Java应用都可以从Spring中受益。Spring的核心是<span style="color: rgb(227, 0, 0);">控制反转（IoC）和面向切面（AOP）</span>。简单来说，Spring是一个分层的JavaSE/EE full-stack(一站式) 轻量级开源框架。</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">Spring 一个<font style="color: rgb(227, 0, 0);">非侵入式</font>的框架</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">轻量级：与EJB(enterprise javabean ,企业级javabean)对比，依赖资源少，销毁的资源少。</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">分层： 一站式，每一个层都提供的解决方案</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">web层：struts，spring-MVC</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">service层：spring</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">dao层：hibernate，mybatis ， jdbcTemplate</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">1.2</span><span style="font-weight: bold;-en-paragraph:true;">spring由来</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">Spring 是java平台上的一个开源应用框架。它的第一个版本是由Rod Johnson写出来的。Rod在他的Expert One-On-One Java EE Design and Development(Java企业应用设计与开发的专家一对一)一书中首次发布了这个框架.</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">1.3</span><span style="font-weight: bold;-en-paragraph:true;">spring核心</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">Spring的核心是</span><span style="-en-paragraph:true;"><span style="font-weight: bold; color: rgb(227, 0, 0);">控制反转</span></span><span style="font-weight: bold;-en-paragraph:true;"><span style="font-weight: bold; color: rgb(227, 0, 0);">(IOC</span>: inversion of control)</span><span style="-en-paragraph:true;">和</span><span style="-en-paragraph:true;"><span style="font-weight: bold; color: rgb(227, 0, 0);">面向切面（AOP</span></span><span style="font-weight: bold;-en-paragraph:true;"><span style="font-weight: bold; color: rgb(227, 0, 0);">:</span> aspect oriented program</span><span style="font-weight: bold;-en-paragraph:true;">）</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">1.4</span><span style="font-weight: bold;-en-paragraph:true;">spring优点</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;"><span style="color: rgb(227, 0, 0);">方便解耦，简化开发</span>(高内聚低耦合)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">•Spring就是一个大工厂(容器)，可以将所有对象创建和依赖关系维护，交给Spring管理</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">•spring工厂是用于生成bean</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">AOP编程的支持</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">•<span style="color: rgb(227, 0, 0);">Spring提供面向切面编程</span>，可以方便的实现对程序进行权限拦截、运行监控等功能</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">声明式事务的支持</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">•只需要通过配置就可以完成对事务的管理，而无需手动编程</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">方便程序的测试</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">•<span style="color: rgb(227, 0, 0);">Spring对Junit4支持</span>，可以通过注解方便的测试Spring程序</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">方便集成各种优秀框架</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">•Spring不排斥各种优秀的开源框架，其内部提供了对各种优秀框架（如：Struts、Hibernate、MyBatis、Quartz等）的直接支持</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">降低JavaEE API的使用难度</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">•Spring 对JavaEE开发中非常难用的一些API（JDBC、JavaMail、远程调用等），都提供了封装，使这些API应用难度大大降低</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">1.5</span><span style="font-weight: bold;-en-paragraph:true;">spring体系结构</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">Spring框架整体被分为五个模块:核心容器(core container), 面向切面编程(aop), 数据访问(date access), web, test.</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">Spring4去掉了spring3中的struts,添加了messaging和websocket,其他模块保持不变</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">Spring的jar包大约20个,每个都有相应的功能,一个jar还可能依赖了若干其他jar,所以搞清楚它们之间的关系,配置maven依赖就可以简洁明了.</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><font style="font-size: 14pt;">下载链接：<a href="https://repo.spring.io/release/org/springframework/spring/">https://repo.spring.io/release/org/springframework/spring/</a></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">1.5.1 core</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">core部分包含4个模块</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-core：依赖注入IoC与DI的最基本实现</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-beans：Bean工厂与bean的装配</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-context：spring的context上下文即IoC容器</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-expression：spring表达式语言</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">它们的完整依赖关系</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">因为spring-core依赖了commons-logging，而其他模块都依赖了spring-core，所以整个spring框架都依赖了commons-logging，如果有自己的日志实现如log4j，可以排除对commons-logging的依赖，没有日志实现而排除了commons-logging依赖，编译报错</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">1.5.2 aop</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">aop部分包含4个模块</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-aop：面向切面编程</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-aspects：集成AspectJ</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-instrument：提供一些类级的工具支持和ClassLoader级的实现，用于服务器</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-instrument-tomcat：针对tomcat的instrument实现(包含了spring的tomcat设备代理)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">它们的完整依赖关系</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">1.5.3 data access</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">data access部分包含5个模块</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-jdbc：jdbc的支持</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-tx：事务控制</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-orm：对象关系映射，集成orm框架</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-oxm：对象xml映射</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-jms：java消息服务</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">它们的完整依赖关系</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">1.5.4 web</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">web包含4个模块</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-web：基础web功能，如文件上传</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-webmvc：mvc实现</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-webmvc-portlet：基于portlet的mvc实现</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-websocket：为web应用提供的高效通信工具</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">它们的依赖关系</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">1.5.5 test</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">test部分只有一个模块，我将spring-context-support也放在这里</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;"><font style="color: rgb(227, 0, 0);">spring-test：</font>spring测试，提供junit与mock测试功能</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-context-support：spring额外支持包，比如<font style="color: rgb(227, 0, 0);">邮件服务</font>、视图解析等</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">它们的依赖关系</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">1.5.6 spring4新增</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">Spring4去掉了spring3中的struts,添加了messaging和websocket,其他模块保持不变.</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-websocket：为web应用提供的高效通信工具</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-messaging：用于构建基于消息的应用程序</font></span></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><h1><font style="font-size: 14pt;"><span style="color: rgb(34, 34, 34); line-height: 32px;">4</span><span style="color: rgb(34, 34, 34); line-height: 32px;">Demo2: 注解方式配置IOC</span></font></h1><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">4.1</span><span style="font-weight: bold;-en-paragraph:true;">导入jar</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">l4+1(4个核心jar + commons-logging)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">lspring-aop : 使用注解会使用到该jar</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">4.2</span><span style="font-weight: bold;-en-paragraph:true;">创建类</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">4.3</span><span style="font-weight: bold;-en-paragraph:true;">创建配置文件</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">在demo1的基础上添加context约束</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">在applicationContext.xml中添加注解的配置(非常重要):</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">&lt;context:component-scan base-package=”要扫描的包”&gt;</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">l属性注解</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">如果bean的装配使用xml,依赖的装配使用注解,可以使用以下配置</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">&lt;context:annotation-config&gt;</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">该配置只会扫描属性上的注解(通常是@Autowired)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);-en-paragraph:true;"><font style="font-size: 14pt;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; color: rgb(51, 51, 51);-en-paragraph:true;"><font style="font-size: 14pt;">&lt;beans xmlns=&quot;<a href="http://www.springframework.org/schema/beans">http://www.springframework.org/schema/beans</a>&quot;</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; color: rgb(51, 51, 51);-en-paragraph:true;"><font style="font-size: 14pt;">xmlns:xsi=&quot;<a href="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</a>&quot;</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; color: rgb(51, 51, 51);-en-paragraph:true;"><font style="font-size: 14pt;">xmlns:context=&quot;<a href="http://www.springframework.org/schema/context">http://www.springframework.org/schema/context</a>&quot; xsi:schemaLocation=&quot;</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; color: rgb(51, 51, 51);-en-paragraph:true;"><a href="http://www.springframework.org/schema/beans"><font style="font-size: 14pt;">http://www.springframework.org/schema/beans</font></a></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; color: rgb(51, 51, 51);-en-paragraph:true;"><a href="http://www.springframework.org/schema/beans/spring-beans.xsd"><font style="font-size: 14pt;">http://www.springframework.org/schema/beans/spring-beans.xsd</font></a></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; color: rgb(51, 51, 51);-en-paragraph:true;"><a href="http://www.springframework.org/schema/context"><font style="font-size: 14pt;">http://www.springframework.org/schema/context</font></a></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; color: rgb(51, 51, 51);-en-paragraph:true;"><font style="font-size: 14pt;"><a href="http://www.springframework.org/schema/context/spring-context.xsd">http://www.springframework.org/schema/context/spring-context.xsd</a>&quot;&gt; &lt;!-- bean definitions here --&gt;</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; color: rgb(51, 51, 51);-en-paragraph:true;"><font style="font-size: 14pt;">&lt;context:component-scan base-package=&quot;cn.ruitong&quot;/&gt;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);-en-paragraph:true;"><font style="font-size: 14pt;">&lt;/beans&gt;</font></span></div></div><div><font style="font-size: 14pt;"><br/></font></div></div><div style="margin-top: 1em; margin-bottom: 1em;"><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">4.4</span><span style="font-weight: bold;-en-paragraph:true;">配置组件和DI</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">在java类上添加@Component(“id”)注解(id可选),告诉spring这是一个组件,交由spring管理,这一步相当于xml当中的&lt;bean&gt;配置</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">除了@Component以外还有其他几个注解配置组件:</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">@Controller</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">@Service</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">@Repository</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">配置组件之后,如果未指定id,默认给对象配置一个类名首字母小写的id,如果以显式的配置了id,则默认的就不存在了</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">如果有依赖,在依赖上添加@Autowired注解,使用该注解,没有set方法也可以</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">除<span style="color: rgb(173, 0, 0);">了@Autowired,@Resource</span>也可以用来装配bean</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;"><span style="color: rgb(227, 0, 0);">@Autowired默认按类型</span>进行装配(该注解由spring提供),默认情况下必须要求依赖对象存在,如果要允许null值,可以设置required属性为false,如:@Autowired(required=false);如果想要使用名称装配,可以结合使用@Qualifier,如:@Autowired@Qualifier(“name”);</font></span></div><div style="margin-left: 40px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;"><span style="color: rgb(227, 0, 0);">@Resource(该注解由j2EE提供),默认按照名称</span>进行装配,名称可以通过name属性进行指定,如果未指定name属性,当注解写在字段上是,默认取字段名查找,当<span style="color: rgb(227, 0, 0);">找不到名称匹配的bean时,才按照类型进行</span>装配.但是如果name属性一旦指定,将只会按照名称进行装配</font></span></div><h1><font style="font-size: 14pt;"><span style="color: rgb(34, 34, 34); line-height: 32px;">5</span><span style="color: rgb(34, 34, 34); line-height: 32px;">AOP</span></font></h1><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">5.1</span><span style="font-weight: bold;-en-paragraph:true;">什么是<font style="color: rgb(227, 0, 0);">AOP        oop 封装 继承 多态</font></span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><font><span style="font-weight: bold;-en-paragraph:true;"><font style="color: rgb(227, 0, 0); font-size: 14pt;"><span>    </span><span>    一种定义 多种实现</span><br/></font></span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><font><span style="font-weight: bold;-en-paragraph:true;"><font style="color: rgb(227, 0, 0); font-size: 14pt;"><span><span>    </span><span>    前提：有继承  有重写</span><br/></span></font></span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;"><font style="color: rgb(227, 0, 0);">AOP</font>全称 aspect oriented program,中文名为<font style="color: rgb(227, 0, 0);">面向切面编程</font>.</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">AOP的OOP的延续,是spring框架中的一个热点和优势,利用AOP可以对业务的各个部分进行隔离,从而使得业务逻辑各个部分之间的耦合度降低.提高代码的复用性,同时提高开发效率</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">AOP采取了横向抽取的机制,取代了传统纵向继承体系的重复性代码</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">应用场景:日志, 事务管理, 缓存, 性能检测等</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">Spring AOP 使用纯java实现,不需要专门的编译过程和类加载器,在运行期通过动态代理的方式向目标类织入增强代码</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">Aspectj 是一个基于java语言的AOP框架,从spring2.0开始,引入了对于Aspectj的支持</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">5.2</span><span style="font-weight: bold;-en-paragraph:true;">AOP的专有名词</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">target : 目标类</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">joinpoint : 连接点是指所有可能织入通知的方法,理论上大部分方法都是连接点</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">pointcut : 切入点, 已经被增强(或者说织入通知)的方法</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">advice: 通知,增强的方法,比如日志,事务</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">aspect : 切面,是指advice和pointcut的结合</font></span></div><div style="margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">weaving: 织入,将advice应用到目标对象来创建新的代理对象的过程</font></span></div><div style="margin-left: 80px;"></div><div style="margin-left: 80px;"></div><h1><span style="color: rgb(34, 34, 34); line-height: 32px;"><font style="font-size: 14pt;">Demo4: 注解方式配置AOP</font></span></h1><div><span style="-en-paragraph:true;"><span style="color: rgb(34, 34, 34);"><font style="font-size: 14pt;">    先来了解一下AOP的相关概念，《Spring参考手册》中定义了以下几个AOP的重要概念，结合以上代码分析如下：</font></span></span></div><ul><li><div><font style="font-size: 14pt;"><span style="color: rgb(34, 34, 34); font-weight: bold;">切面（Aspect）：</span><span style="color: rgb(34, 34, 34);">官方的抽象定义为“一个关注点的模块化，这个关注点可能会横切多个对象”，在本例中，“切面”就是类TestAspect所关注的具体行为，例如，AServiceImpl.barA()的调用就是切面TestAspect所关注的行为之一。“切面”在ApplicationContext中&lt;aop:aspect&gt;来配置。</span></font></div></li><li><div><font style="font-size: 14pt;"><span style="color: rgb(34, 34, 34); font-weight: bold;">连接点（Joinpoint）</span><span style="color: rgb(34, 34, 34);"> ：程序执行过程中的某一行为，例如，UserService.get的调用或者UserService.delete抛出异常等行为。</span></font></div></li><li><div><font style="font-size: 14pt;"><span style="color: rgb(34, 34, 34); font-weight: bold;">通知（Advice）</span><span style="color: rgb(34, 34, 34);"> ：“切面”对于某个“连接点”所产生的动作，例如，TestAspect中对com.spring.service包下所有类的方法进行日志记录的动作就是一个Advice。其中，一个“切面”可以包含多个“Advice”，例如ServiceAspect。</span></font></div></li><li><div><font style="font-size: 14pt;"><span style="color: rgb(34, 34, 34); font-weight: bold;">切入点（Pointcut）</span><span style="color: rgb(34, 34, 34);"> ：匹配连接点的断言，在AOP中通知和一个切入点表达式关联。例如，TestAspect中的所有通知所关注的连接点，都由切入点表达式execution(* com.spring.service.*.*(..))来决定。</span></font></div></li><li><div><font style="font-size: 14pt;"><span style="color: rgb(34, 34, 34); font-weight: bold;">目标对象（Target Object）</span><span style="color: rgb(34, 34, 34);"> ：被一个或者多个切面所通知的对象。例如，AServcieImpl和BServiceImpl，当然在实际运行时，Spring AOP采用代理实现，实际AOP操作的是TargetObject的代理对象。</span></font></div></li><li><div><font style="font-size: 14pt;"><span style="color: rgb(34, 34, 34); font-weight: bold;">AOP代理（AOP Proxy）</span><span style="color: rgb(34, 34, 34);"> ：在Spring AOP中有两种代理方式，JDK动态代理和CGLIB代理。默认情况下，TargetObject实现了接口时，则采用JDK动态代理，例如，AServiceImpl；反之，采用CGLIB代理，例如，BServiceImpl。强制使用CGLIB代理需要将 &lt;aop:config&gt;的 proxy-target-class属性设为true。</span></font></div></li></ul><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><span style="-en-paragraph:true;"><span style="color: rgb(34, 34, 34); font-weight: bold;"><font style="font-size: 14pt;">通知（Advice）类型：</font></span></span></div><ul><li><div><font style="font-size: 14pt;"><span style="color: rgb(34, 34, 34); font-weight: bold;">前置通知（Before advice）：</span><span style="color: rgb(34, 34, 34);">在某连接点（JoinPoint）之前执行的通知，但这个通知不能阻止连接点前的执行。ApplicationContext中在&lt;aop:aspect&gt;里面使用&lt;aop:before&gt;元素进行声明。例如，TestAspect中的doBefore方法。</span></font></div></li><li><div><font style="font-size: 14pt;"><span style="color: rgb(34, 34, 34); font-weight: bold;">后置通知（After advice）：</span><span style="color: rgb(34, 34, 34);">当某连接点退出的时候执行的通知（不论是正常返回还是异常退出）。ApplicationContext中在&lt;aop:aspect&gt;里面使用&lt;aop:after&gt;元素进行声明。例如，ServiceAspect中的returnAfter方法，所以Teser中调用UserService.delete抛出异常时，returnAfter方法仍然执行。</span></font></div></li><li><div><font style="font-size: 14pt;"><span style="color: rgb(34, 34, 34); font-weight: bold;">返回后通知（After return advice）：</span><span style="color: rgb(34, 34, 34);">在某连接点正常完成后执行的通知，不包括抛出异常的情况。ApplicationContext中在&lt;aop:aspect&gt;里面使用&lt;after-returning&gt;元素进行声明。</span></font></div></li><li><div><font style="font-size: 14pt;"><span style="color: rgb(34, 34, 34); font-weight: bold;">环绕通知（Around advice）：</span><span style="color: rgb(34, 34, 34);">包围一个连接点的通知，类似Web中Servlet规范中的Filter的doFilter方法。可以在方法的调用前后完成自定义的行为，也可以选择不执行。ApplicationContext中在&lt;aop:aspect&gt;里面使用&lt;aop:around&gt;元素进行声明。例如，ServiceAspect中的around方法。</span></font></div></li><li><div><font style="font-size: 14pt;"><span style="color: rgb(34, 34, 34); font-weight: bold;">抛出异常后通知（After throwing advice）：</span><span style="color: rgb(34, 34, 34);">在方法抛出异常退出时执行的通知。ApplicationContext中在&lt;aop:aspect&gt;里面使用&lt;aop:after-throwing&gt;元素进行声明。例如，ServiceAspect中的returnThrow方法。</span></font></div></li></ul><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">7.1</span><span style="font-weight: bold;-en-paragraph:true;">导入jar</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">4+1(4个核心jar + commons-logging)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">Spring的aop jar</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-aop &gt; aopalliance(aop联盟)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">aspects的jar(集成aspectj)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">spring-aspects &gt; aspectjweaver</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">7.2</span><span style="font-weight: bold;-en-paragraph:true;">创建业务类和增强类</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">业务类:UserService</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">增强类:LogAspect</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">7.3</span><span style="font-weight: bold;-en-paragraph:true;">配置组件和切面</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">创建配置文件</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">引入约束:beans, aop, context</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">配置组件的包扫描:</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">&lt;context:component-scan base-package=”” /&gt;</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">配置开启aop自动代理</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><span style="color: rgb(227, 0, 0);"><font style="font-size: 14pt;">&lt;aop:aspectj-autoproxy /&gt;</font></span></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">在组件上添加<span style="color: rgb(227, 0, 0);">@Component</span>注解</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">在切面上添加<span style="color: rgb(227, 0, 0);">@Aspect</span>注解</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">在通知类的方法上添加切入点表达式的注解</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><font style="font-size: 14pt;"><br/></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"></div><div style="margin-left: 40px;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">7.4</span><span style="font-weight: bold;-en-paragraph:true;">测试</span></font></div><div style="margin-left: 80px;"></div><div style="margin-left: 80px;"></div><div style="margin-left: 40px;"><span style="-en-paragraph:true;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">切入点表达式</font></span></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">expression=&quot;execution(* service.UserService.addUser(..))&quot;</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">[访问修饰符] 方法返回类型 包名.类名.方法名(参数)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">访问修饰符通常省略</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">几种常用写法</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">* cn.ruitong.service.UserService.addUser(..)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">* cn.ruitong.service.UserService.*(..)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">* cn.ruitong.service.UserService.add*(..)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">* cn.ruitong.service.UserService.*do(..)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">* cn.ruitong.service.*.*do(..)</font></span></div><div style="margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">* cn.ruitong.service.*Impl.*(..)</font></span></div><h1><font style="font-size: 14pt;"><span style="color: rgb(34, 34, 34); line-height: 32px;">9</span><span style="color: rgb(34, 34, 34); line-height: 32px;">Spring的事务管理</span></font></h1><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">9.1</span><span style="font-weight: bold;-en-paragraph:true;">什么是事务</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">一组对于数据库的操作,是最小的数据库操作单元.要么都成功,有么都不执行.</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">Mysql是支持事务的</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">Mysql是事务是自动提交的.</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">在mysql的jdbc当中进行事务管理:</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">1.手动开启事务</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">2.手动提交事务</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">3.回滚</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">9.2</span><span style="font-weight: bold;-en-paragraph:true;">事务的特性(ACID)</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">原子性: 一个事务单元里面的多个数据库操作,不可分割</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">隔离性: 一个事务操作不能影响其他事务</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">一致性:</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">持久性:</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">9.3</span><span style="font-weight: bold;-en-paragraph:true;">并发事务下可能出现的问题</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">脏读: 是一个事务读到了另一个事务没有提交的数据</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">不可重复读: 针对的是记录的修改操作</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">幻读: 针对的是数据增删操作</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">9.4</span><span style="font-weight: bold;-en-paragraph:true;">解决方法:设置数据的隔离级别</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">读未提交: 一个问题都没解决</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">读已提交: 解决了脏读的问题</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">可重复读: 解决了不可重复读和脏读的问题</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">串行化: 解决了所有问题..</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">数据库是有默认的隔离级别的:</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">Mysql : 可重复读</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">Oracle: 读已提交</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">9.5</span><span style="font-weight: bold;-en-paragraph:true;">JDBC当中的事务处理</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">开启事务</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">Connection.setAutoCommit(false)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">提交事务</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;"><a href="http://connection.commit/">Connection.commit</a>()</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">事务回滚</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">Connection.rollback()</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">9.6</span><span style="font-weight: bold;-en-paragraph:true;">Spring当中的事务处理</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">平台事务管理器:</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">PlatformTransactionManager</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 40px;"><font style="font-size: 14pt;"><span style="-en-paragraph:true;">9.7</span><span style="font-weight: bold;-en-paragraph:true;">三种事务处理方案</span></font></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">1.编程式事务</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">2.声明式事务</font></span></div><div style="margin-top: 1em; margin-bottom: 1em; margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">2.1 xml方式配置事务</font></span></div><div style="margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">2.2注解方式配置事务</font></span></div><div style="margin-left: 80px;"></div><div style="margin-left: 80px;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;"> <span style="font-style: italic; font-weight: bold;-en-paragraph:true;">@Transactional参数</span></font></span></div><table border="1"><colgroup><col></col><col></col></colgroup><tbody><tr><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">参数名称</font></span></div></td><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">功能描述</font></span></div></td></tr><tr><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">readOnly</font></span></div></td><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">该属性用于设置当前事务是否为只读事务，设置为true表示只读，false则表示可读写，默认值为false。例如：@Transactional(readOnly=true)</font></span></div></td></tr><tr><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">rollbackFor</font></span></div></td><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">该属性用于设置需要进行回滚的异常类数组，当方法中抛出指定异常数组中的异常时，则进行事务回滚。例如：</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">指定单一异常类：@Transactional(rollbackFor=RuntimeException.class)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">指定多个异常类：@Transactional(rollbackFor={RuntimeException.class, Exception.class})</font></span></div></td></tr><tr><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">rollbackForClassName</font></span></div></td><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">该属性用于设置需要进行回滚的异常类名称数组，当方法中抛出指定异常名称数组中的异常时，则进行事务回滚。例如：</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">指定单一异常类名称：@Transactional(rollbackForClassName=&quot;RuntimeException&quot;)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">指定多个异常类名称：@Transactional(rollbackForClassName={&quot;RuntimeException&quot;,&quot;Exception&quot;})</font></span></div></td></tr><tr><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">noRollbackFor</font></span></div></td><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">该属性用于设置不需要进行回滚的异常类数组，当方法中抛出指定异常数组中的异常时，不进行事务回滚。例如：</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">指定单一异常类：@Transactional(noRollbackFor=RuntimeException.class)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">指定多个异常类：@Transactional(noRollbackFor={RuntimeException.class, Exception.class})</font></span></div></td></tr><tr><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">noRollbackForClassName</font></span></div></td><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">该属性用于设置不需要进行回滚的异常类名称数组，当方法中抛出指定异常名称数组中的异常时，不进行事务回滚。例如：</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">指定单一异常类名称：@Transactional(noRollbackForClassName=&quot;RuntimeException&quot;)</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">指定多个异常类名称：</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">@Transactional(noRollbackForClassName={&quot;RuntimeException&quot;,&quot;Exception&quot;})</font></span></div></td></tr><tr><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">propagation</font></span></div></td><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">该属性用于设置事务的传播行为。</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">例如：@Transactional(propagation=Propagation.NOT_SUPPORTED,readOnly=true)</font></span></div></td></tr><tr><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">isolation</font></span></div></td><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">该属性用于设置底层数据库的事务隔离级别，事务隔离级别用于处理多事务并发的情况，通常使用数据库的默认隔离级别即可，基本不需要进行设置</font></span></div></td></tr><tr><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold;-en-paragraph:true;"><font style="font-size: 14pt;">timeout</font></span></div></td><td><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><font style="font-size: 14pt;">该属性用于设置事务的超时秒数，默认值为-1表示永不超时</font></span></div></td></tr></tbody></table><div style="margin-left: 80px;"><div><font style="font-size: 14pt;"><br/></font></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;"><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">context:property-placeholder</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">location</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;classpath:/jdbc.properties&quot;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">/&gt;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 95, 191);">&lt;!-- 占位符 --&gt;</span></font></div><div style="min-height: 18pt;"><font style="font-size: 14pt;"><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">bean</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">id</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;dataSource&quot;</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">class</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 18pt;"><font style="font-size: 14pt;"><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">property</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">name</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;driverClassName&quot;</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">value</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;${jdbc.driverClass}&quot;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;&lt;/</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">property</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 18pt;"><font style="font-size: 14pt;"><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">property</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">name</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;url&quot;</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">value</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;${jdbc.jdbcUrl}&quot;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;&lt;/</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">property</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 18pt;"><font style="font-size: 14pt;"><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">property</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">name</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;username&quot;</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">value</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;${jdbc.user}&quot;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;&lt;/</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">property</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 18pt;"><font style="font-size: 14pt;"><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">property</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">name</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;password&quot;</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">value</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;${jdbc.password}&quot;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;&lt;/</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">property</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 18pt;"><font style="font-size: 14pt;"><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">bean</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 18pt;"><font style="font-size: 14pt;"><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">bean</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">id</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;jdbcTemplate&quot;</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">class</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 18pt;"><font style="font-size: 14pt;"><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">property</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">name</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;dataSource&quot;</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">ref</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;dataSource&quot;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;&lt;/</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">property</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 18pt;"><font style="font-size: 14pt;"><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">bean</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 14pt;">&lt;!-- 配置事务管理器 --&gt;</font></span></div><div style="min-height: 18pt;"><font style="font-size: 14pt;"><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">bean</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">id</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;appTransactionManager&quot;</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">class</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 18pt;"><font style="font-size: 14pt;"><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">     </span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">property</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">name</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;dataSource&quot;</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">ref</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;dataSource&quot;</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">/&gt;</span></font></div><div style="min-height: 18pt;"><font style="font-size: 14pt;"><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">   </span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">bean</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 18pt;"><font style="font-size: 14pt;"><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">   </span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 95, 191);">&lt;!-- 指定使用的事务管理器 --&gt;</span></font></div><div><font style="font-size: 14pt;"><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);"> </span><span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(63, 127, 127);">tx:annotation-driven</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">proxy-target-class</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;false&quot;</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(127, 0, 127);">transaction-manager</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 18pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;appTransactionManager&quot;</span> <span style="min-height: 18pt; font-family: Consolas; color: rgb(0, 128, 128);">/&gt;</span></font></div></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div></div><div><br/></div></span>
</div></body></html> 